{"remainingRequest":"C:\\Maike\\gluecksrad-adjektive\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Maike\\gluecksrad-adjektive\\src\\components\\Wheel.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Maike\\gluecksrad-adjektive\\src\\components\\Wheel.vue","mtime":1612008972084},{"path":"C:\\Maike\\gluecksrad-adjektive\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1612009238007},{"path":"C:\\Maike\\gluecksrad-adjektive\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1612009238127},{"path":"C:\\Maike\\gluecksrad-adjektive\\node_modules\\babel-loader\\lib\\index.js","mtime":1612009237977},{"path":"C:\\Maike\\gluecksrad-adjektive\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1612009238007},{"path":"C:\\Maike\\gluecksrad-adjektive\\node_modules\\vue-loader\\lib\\index.js","mtime":1612009266838}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBERUZBVUxUX0ZSRVFVRU5DWSwgREVGQVVMVF9URVhUX0NPTE9SLCBnZXREZWZhdWx0QmdDb2xvciwgZ2V0VG90YWxGcmVxdWVuY3kgfSBmcm9tICcuLi9kYXRhJzsNCmltcG9ydCB7IGdldFJhbmRvbUludCB9IGZyb20gJy4uL3V0aWwnOw0KDQovLyBDYWxjdWxhdGUgdGhlIHJlc3VsdGluZyBwcml6ZSBpbmRleCBnaXZlbiB0aGUgZmluYWwgYW5nbGUgYW5kIGxpc3Qgb2YgcHJpemVzLg0KZnVuY3Rpb24gY2FsY3VsYXRlUmVzdWx0KGFuZ2xlLCBwcml6ZXMpIHsNCiAgY29uc3QgdG90YWxGcmVxcyA9IGdldFRvdGFsRnJlcXVlbmN5KHByaXplcyk7DQogIGxldCBjdW11bGF0aXZlID0gMDsNCiAgbGV0IHdpbm5lciA9IC0xOw0KDQogIGZvciAobGV0IGkgPSAwOyBpIDwgcHJpemVzLmxlbmd0aDsgKytpKSB7DQogICAgY29uc3QgZnJlcSA9IHByaXplc1tpXS5mcmVxIHx8IERFRkFVTFRfRlJFUVVFTkNZOw0KICAgIGN1bXVsYXRpdmUgKz0gZnJlcTsNCg0KICAgIGNvbnN0IGFyY0FuZ2xlMSA9IGFuZ2xlICsgKDIgKiBNYXRoLlBJICogKGN1bXVsYXRpdmUgLSBmcmVxKSkgLyB0b3RhbEZyZXFzOw0KICAgIGNvbnN0IGFyY0FuZ2xlMiA9IGFuZ2xlICsgKDIgKiBNYXRoLlBJICogY3VtdWxhdGl2ZSkgLyB0b3RhbEZyZXFzOw0KICAgIGlmIChpc0FuZ2xlQmV0d2VlbigoMyAvIDIpICogTWF0aC5QSSwgYXJjQW5nbGUxLCBhcmNBbmdsZTIpKSB7DQogICAgICB3aW5uZXIgPSBpOw0KICAgIH0NCiAgfQ0KDQogIHJldHVybiB3aW5uZXI7DQp9DQoNCi8vIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gYW5nbGUgaXMgYmV0d2VlbiB0aGUgc3BlY2lmaWVkIGJvdW5kcy4NCmZ1bmN0aW9uIGlzQW5nbGVCZXR3ZWVuKGFuZ2xlLCBsb3dlciwgdXBwZXIpIHsNCiAgbG93ZXIgJT0gMiAqIE1hdGguUEk7DQogIHVwcGVyICU9IDIgKiBNYXRoLlBJOw0KICBpZiAobG93ZXIgPD0gdXBwZXIpIHsNCiAgICByZXR1cm4gbG93ZXIgPCBhbmdsZSAmJiB1cHBlciA+PSBhbmdsZTsNCiAgfSBlbHNlIHsNCiAgICByZXR1cm4gbG93ZXIgPCBhbmdsZSB8fCB1cHBlciA+PSBhbmdsZTsNCiAgfQ0KfQ0KDQovLyBSZWRyYXcgdGhlIHdoZWVsIG9udG8gdGhlIGdpdmVuIGNhbnZhcywgd2l0aCB0aGUgZ2l2ZW4gb2Zmc2V0IGFuZ2xlIGFuZCBsaXN0IG9mIHByaXplcy4NCmZ1bmN0aW9uIHJlZHJhd1doZWVsKGNhbnZhcywgYW5nbGUsIHByaXplcykgew0KICBjb25zdCByID0gTWF0aC5taW4oY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KSAvIDIuMDU7DQogIGNvbnN0IGN4ID0gY2FudmFzLndpZHRoIC8gMjsNCiAgY29uc3QgY3kgPSBjYW52YXMuaGVpZ2h0IC8gMjsNCiAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7DQogIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsNCg0KICBsZXQgZyA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChjeCwgY3ksIDAsIGN4LCBjeSwgcik7DQogIGcuYWRkQ29sb3JTdG9wKDAsICdyZ2JhKDAsMCwwLDApJyk7DQogIGcuYWRkQ29sb3JTdG9wKDEsICdyZ2JhKDAsMCwwLDAuMSknKTsNCg0KICBjb25zdCB0b3RhbEZyZXFzID0gZ2V0VG90YWxGcmVxdWVuY3kocHJpemVzKTsNCiAgbGV0IGN1bXVsYXRpdmUgPSAwOw0KICBmb3IgKGxldCBpID0gMDsgaSA8IHByaXplcy5sZW5ndGg7ICsraSkgew0KICAgIGNvbnN0IHByaXplID0gcHJpemVzW2ldOw0KICAgIGNvbnN0IGZyZXEgPSBwcml6ZS5mcmVxIHx8IERFRkFVTFRfRlJFUVVFTkNZOw0KICAgIGN1bXVsYXRpdmUgKz0gZnJlcTsNCg0KICAgIC8vIGNhbGN1bGF0ZSBhcmMgYW5kIHRleHQgYW5nbGVzDQogICAgY29uc3QgYXJjQW5nbGUxID0gYW5nbGUgKyAoMiAqIE1hdGguUEkgKiAoY3VtdWxhdGl2ZSAtIGZyZXEpKSAvIHRvdGFsRnJlcXM7DQogICAgY29uc3QgYXJjQW5nbGUyID0gYW5nbGUgKyAoMiAqIE1hdGguUEkgKiBjdW11bGF0aXZlKSAvIHRvdGFsRnJlcXM7DQogICAgY29uc3QgdGV4dEFuZ2xlID0gYW5nbGUgKyAoMiAqIE1hdGguUEkgKiAoY3VtdWxhdGl2ZSAtIGZyZXEgLyAyKSkgLyB0b3RhbEZyZXFzOw0KICAgIGNvbnN0IGhpZ2hsaWdodCA9IGlzQW5nbGVCZXR3ZWVuKCgzIC8gMikgKiBNYXRoLlBJLCBhcmNBbmdsZTEsIGFyY0FuZ2xlMik7DQoNCiAgICAvLyBkcmF3IGFyYw0KICAgIGN0eC5iZWdpblBhdGgoKTsNCiAgICBjdHgubW92ZVRvKGN4LCBjeSk7DQogICAgY3R4LmFyYyhjeCwgY3ksIHIsIGFyY0FuZ2xlMSwgYXJjQW5nbGUyLCBmYWxzZSk7DQogICAgY3R4LmZpbGxTdHlsZSA9IHByaXplLmJnIHx8IGdldERlZmF1bHRCZ0NvbG9yKGkpOw0KICAgIGN0eC5maWxsKCk7DQogICAgY3R4LmZpbGxTdHlsZSA9IGc7DQogICAgY3R4LmZpbGwoKTsNCiAgICBjdHguc2F2ZSgpOw0KDQogICAgLy8gY2FsY3VsYXRlIGZvbnQgc2l6ZQ0KICAgIGNvbnN0IGFuZ2xlTW9kID0gTWF0aC5taW4oYXJjQW5nbGUyIC0gYXJjQW5nbGUxLCAwLjI1KTsNCiAgICBjb25zdCBsZW5ndGhNb2QgPSAxIC0gTWF0aC5yb3VuZChwcml6ZS5uYW1lLmxlbmd0aCAvIDMpICogMC4wNzsNCiAgICBjb25zdCBmb250TW9kID0gcHJpemUuZm9udE1vZCB8fCAxOw0KICAgIGNvbnN0IGZvbnRTaXplID0gTWF0aC5tYXgoMTAsIDAuNCAqIHIgKiBhbmdsZU1vZCAqIGxlbmd0aE1vZCAqIGZvbnRNb2QpOw0KDQogICAgLy8gZHJhdyB0ZXh0DQogICAgY3R4LmZpbGxTdHlsZSA9IHByaXplLnRleHQgfHwgREVGQVVMVF9URVhUX0NPTE9SOw0KICAgIGlmIChoaWdobGlnaHQpIHsNCiAgICAgIGN0eC5zaGFkb3dDb2xvciA9IHByaXplLnRleHQgfHwgREVGQVVMVF9URVhUX0NPTE9SOw0KICAgICAgY3R4LnNoYWRvd0JsdXIgPSByIC8gMTU7DQogICAgfQ0KICAgIGN0eC5mb250ID0gZm9udFNpemUgKyAicHggJ011bGknLCBzYW5zLXNlcmlmIjsNCiAgICBjdHgudGV4dEFsaWduID0gJ3JpZ2h0JzsNCiAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7DQogICAgY3R4LnRyYW5zbGF0ZShjeCwgY3kpOw0KICAgIGN0eC5yb3RhdGUodGV4dEFuZ2xlKTsNCiAgICBjdHguZmlsbFRleHQocHJpemUubmFtZSwgciAqIDAuOTEsIDApOw0KICAgIGN0eC5yZXN0b3JlKCk7DQogIH0NCn0NCg0KLy8gUmVkcmF3IHRoZSB3aGVlbCBmcmFtZSBvbnRvIHRoZSBnaXZlbiBjYW52YXMuDQpmdW5jdGlvbiByZWRyYXdGcmFtZShjYW52YXMpIHsNCiAgY29uc3QgciA9IE1hdGgubWluKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCkgLyAyLjA1Ow0KICBjb25zdCBjeCA9IGNhbnZhcy53aWR0aCAvIDI7DQogIGNvbnN0IGN5ID0gY2FudmFzLmhlaWdodCAvIDI7DQogIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOw0KDQogIC8vIG91dGVyIHJpbmcNCiAgY3R4LnNhdmUoKTsNCiAgY3R4LnNoYWRvd09mZnNldFggPSByIC8gMTAwOw0KICBjdHguc2hhZG93T2Zmc2V0WSA9IHIgLyAxMDA7DQogIGN0eC5zaGFkb3dCbHVyID0gciAvIDQwOw0KICBjdHguc2hhZG93Q29sb3IgPSAncmdiYSgwLDAsMCwwLjIpJzsNCiAgY3R4LmJlZ2luUGF0aCgpOw0KICBjdHguYXJjKGN4LCBjeSwgciAqIDEuMDA1LCAwLCAyICogTWF0aC5QSSwgdHJ1ZSk7DQogIGN0eC5hcmMoY3gsIGN5LCByICogMC45ODUsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSk7DQogIGN0eC5maWxsU3R5bGUgPSAnIzQyNDI0Mic7DQogIGN0eC5maWxsKCk7DQoNCiAgLy8gY2VudGVyIHJpbmcNCiAgY3R4LnNoYWRvd09mZnNldFggPSByIC8gMTAwOw0KICBjdHguc2hhZG93T2Zmc2V0WSA9IHIgLyAxMDA7DQogIGN0eC5maWxsU3R5bGUgPSAnIzQyNDI0Mic7DQogIGN0eC5iZWdpblBhdGgoKTsNCiAgY3R4LmFyYyhjeCwgY3ksIHIgLyAzMCwgMCwgMiAqIE1hdGguUEksIGZhbHNlKTsNCiAgY3R4LmZpbGwoKTsNCg0KICAvLyBwcml6ZSBwb2ludGVyDQogIGN0eC50cmFuc2xhdGUoY3gsIGN5KTsNCiAgY3R4LnJvdGF0ZShNYXRoLlBJIC8gMik7DQogIGN0eC5iZWdpblBhdGgoKTsNCiAgY3R4Lm1vdmVUbygtciAqIDEuMDEsIC1yICogMC4wNSk7DQogIGN0eC5saW5lVG8oLXIgKiAwLjkzNSwgMCk7DQogIGN0eC5saW5lVG8oLXIgKiAxLjAxLCByICogMC4wNSk7DQogIGN0eC5maWxsU3R5bGUgPSAnI2Y0NDMzNic7DQogIGN0eC5maWxsKCk7DQogIGN0eC5yZXN0b3JlKCk7DQp9DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ1doZWVsJywNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgYW5nbGU6IDAsDQogICAgICByZXNpemVJbnRlcnZhbElkOiBudWxsDQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBwcml6ZXMoKSB7DQogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXZhaWxhYmxlOw0KICAgIH0sDQogICAgcmVtb3ZlV2lubmluZygpIHsNCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5kYXRhLnJlbW92ZVdpbm5pbmcgfHwgZmFsc2U7DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy8gUmVzaXplIGFuZCByZXBhaW50IHRoZSB3aGVlbCBpZiB0aGUgc2l6ZSBvZiB0aGUgY2FudmFzIGNoYW5nZXMuDQogICAgcmVzaXplKCkgew0KICAgICAgY29uc3QgbWFpbkNhbnZhcyA9IHRoaXMuJHJlZnMubWFpbkNhbnZhczsNCiAgICAgIGNvbnN0IHN1YkNhbnZhcyA9IHRoaXMuJHJlZnMuc3ViQ2FudmFzOw0KICAgICAgY29uc3QgcGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7DQogICAgICBjb25zdCBkZXNpcmVkV2lkdGggPSBtYWluQ2FudmFzLm9mZnNldFdpZHRoICogcGl4ZWxSYXRpbzsNCiAgICAgIGNvbnN0IGRlc2lyZWRIZWlnaHQgPSBtYWluQ2FudmFzLm9mZnNldEhlaWdodCAqIHBpeGVsUmF0aW87DQogICAgICBpZiAobWFpbkNhbnZhcy53aWR0aCAhPT0gZGVzaXJlZFdpZHRoIHx8IG1haW5DYW52YXMuaGVpZ2h0ICE9PSBkZXNpcmVkSGVpZ2h0KSB7DQogICAgICAgIG1haW5DYW52YXMud2lkdGggPSBkZXNpcmVkV2lkdGg7DQogICAgICAgIG1haW5DYW52YXMuaGVpZ2h0ID0gZGVzaXJlZEhlaWdodDsNCiAgICAgICAgc3ViQ2FudmFzLndpZHRoID0gZGVzaXJlZFdpZHRoOw0KICAgICAgICBzdWJDYW52YXMuaGVpZ2h0ID0gZGVzaXJlZEhlaWdodDsNCiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd1cGRhdGVXaGVlbFNpemUnLCBNYXRoLm1pbihtYWluQ2FudmFzLndpZHRoLCBtYWluQ2FudmFzLmhlaWdodCkpOw0KICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsNCiAgICAgICAgICByZWRyYXdXaGVlbChtYWluQ2FudmFzLCB0aGlzLmFuZ2xlLCB0aGlzLnByaXplcyk7DQogICAgICAgICAgcmVkcmF3RnJhbWUoc3ViQ2FudmFzKTsNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCg0KICAgIC8vIERldGVybWluZSB0aGUgd2lubmVyIGFuZCBub3RpZnkgcGFyZW50Lg0KICAgIHNwaW5Db21wbGV0ZWQoKSB7DQogICAgICBjb25zdCB3aW5uZXIgPSBjYWxjdWxhdGVSZXN1bHQodGhpcy5hbmdsZSwgdGhpcy5wcml6ZXMpOw0KICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRTcGluUmVzdWx0Jywgd2lubmVyKTsNCiAgICAgIHRoaXMuJGVtaXQoJ3Jlc3VsdCcsIHdpbm5lcik7DQogICAgfSwNCg0KICAgIC8vIFN0YXJ0IHNwaW5uaW5nLiBDYWxsZWQgYnkgcGFyZW50IChXaGVlbFBhbmVsKS4NCiAgICBzdGFydFNwaW4oKSB7DQogICAgICBjb25zdCBtYWluQ2FudmFzID0gdGhpcy4kcmVmcy5tYWluQ2FudmFzOw0KICAgICAgY29uc3QgcHJpemVzID0gdGhpcy5wcml6ZXM7DQogICAgICBjb25zdCBzZWxmID0gdGhpczsNCg0KICAgICAgY29uc3QgdG90YWxUaWNrcyA9IGdldFJhbmRvbUludCg0NTAsIDUzMCk7DQogICAgICBjb25zdCBzcGVlZCA9IDAuMTIgKyBnZXRSYW5kb21JbnQoMCwgODApICogMC4wMDE7DQogICAgICBsZXQgdGlja3MgPSAwOw0KICAgICAgY29uc3Qgc3RhcnQgPSArbmV3IERhdGUoKTsNCg0KICAgICAgZnVuY3Rpb24gbWFpbkxvb3AoKSB7DQogICAgICAgIGNvbnN0IG5vdyA9ICtuZXcgRGF0ZSgpOw0KICAgICAgICBjb25zdCB0YXJnZXRUaWNrcyA9IE1hdGgubWluKHRvdGFsVGlja3MsIChub3cgLSBzdGFydCkgLyAxMCk7DQogICAgICAgIGZvciAoOyB0aWNrcyA8PSB0YXJnZXRUaWNrczsgKyt0aWNrcykgew0KICAgICAgICAgIHNlbGYuYW5nbGUgKz0gKHNwZWVkICogKHRvdGFsVGlja3MgLSB0aWNrcykpIC8gdG90YWxUaWNrczsNCiAgICAgICAgfQ0KDQogICAgICAgIHJlZHJhd1doZWVsKG1haW5DYW52YXMsIHNlbGYuYW5nbGUsIHByaXplcyk7DQoNCiAgICAgICAgaWYgKHRpY2tzIDwgdG90YWxUaWNrcykgew0KICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobWFpbkxvb3ApOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHNlbGYuc3BpbkNvbXBsZXRlZCgpOw0KICAgICAgICB9DQogICAgICB9DQoNCiAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobWFpbkxvb3ApOw0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLnJlc2l6ZUludGVydmFsSWQgPSBzZXRJbnRlcnZhbCh0aGlzLnJlc2l6ZSwgMTApOw0KICB9LA0KICBiZWZvcmVEZXN0cm95KCkgew0KICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZXNpemVJbnRlcnZhbElkKTsNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["Wheel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Wheel.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"wheels-container\">\r\n    <div class=\"wheels\">\r\n      <div class=\"wheel-container\">\r\n        <canvas class=\"wheel-main\" ref=\"mainCanvas\" />\r\n      </div>\r\n      <div class=\"wheel-container\">\r\n        <canvas class=\"wheel-sub\" ref=\"subCanvas\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { DEFAULT_FREQUENCY, DEFAULT_TEXT_COLOR, getDefaultBgColor, getTotalFrequency } from '../data';\r\nimport { getRandomInt } from '../util';\r\n\r\n// Calculate the resulting prize index given the final angle and list of prizes.\r\nfunction calculateResult(angle, prizes) {\r\n  const totalFreqs = getTotalFrequency(prizes);\r\n  let cumulative = 0;\r\n  let winner = -1;\r\n\r\n  for (let i = 0; i < prizes.length; ++i) {\r\n    const freq = prizes[i].freq || DEFAULT_FREQUENCY;\r\n    cumulative += freq;\r\n\r\n    const arcAngle1 = angle + (2 * Math.PI * (cumulative - freq)) / totalFreqs;\r\n    const arcAngle2 = angle + (2 * Math.PI * cumulative) / totalFreqs;\r\n    if (isAngleBetween((3 / 2) * Math.PI, arcAngle1, arcAngle2)) {\r\n      winner = i;\r\n    }\r\n  }\r\n\r\n  return winner;\r\n}\r\n\r\n// Returns true if the given angle is between the specified bounds.\r\nfunction isAngleBetween(angle, lower, upper) {\r\n  lower %= 2 * Math.PI;\r\n  upper %= 2 * Math.PI;\r\n  if (lower <= upper) {\r\n    return lower < angle && upper >= angle;\r\n  } else {\r\n    return lower < angle || upper >= angle;\r\n  }\r\n}\r\n\r\n// Redraw the wheel onto the given canvas, with the given offset angle and list of prizes.\r\nfunction redrawWheel(canvas, angle, prizes) {\r\n  const r = Math.min(canvas.width, canvas.height) / 2.05;\r\n  const cx = canvas.width / 2;\r\n  const cy = canvas.height / 2;\r\n  const ctx = canvas.getContext('2d');\r\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n  let g = ctx.createRadialGradient(cx, cy, 0, cx, cy, r);\r\n  g.addColorStop(0, 'rgba(0,0,0,0)');\r\n  g.addColorStop(1, 'rgba(0,0,0,0.1)');\r\n\r\n  const totalFreqs = getTotalFrequency(prizes);\r\n  let cumulative = 0;\r\n  for (let i = 0; i < prizes.length; ++i) {\r\n    const prize = prizes[i];\r\n    const freq = prize.freq || DEFAULT_FREQUENCY;\r\n    cumulative += freq;\r\n\r\n    // calculate arc and text angles\r\n    const arcAngle1 = angle + (2 * Math.PI * (cumulative - freq)) / totalFreqs;\r\n    const arcAngle2 = angle + (2 * Math.PI * cumulative) / totalFreqs;\r\n    const textAngle = angle + (2 * Math.PI * (cumulative - freq / 2)) / totalFreqs;\r\n    const highlight = isAngleBetween((3 / 2) * Math.PI, arcAngle1, arcAngle2);\r\n\r\n    // draw arc\r\n    ctx.beginPath();\r\n    ctx.moveTo(cx, cy);\r\n    ctx.arc(cx, cy, r, arcAngle1, arcAngle2, false);\r\n    ctx.fillStyle = prize.bg || getDefaultBgColor(i);\r\n    ctx.fill();\r\n    ctx.fillStyle = g;\r\n    ctx.fill();\r\n    ctx.save();\r\n\r\n    // calculate font size\r\n    const angleMod = Math.min(arcAngle2 - arcAngle1, 0.25);\r\n    const lengthMod = 1 - Math.round(prize.name.length / 3) * 0.07;\r\n    const fontMod = prize.fontMod || 1;\r\n    const fontSize = Math.max(10, 0.4 * r * angleMod * lengthMod * fontMod);\r\n\r\n    // draw text\r\n    ctx.fillStyle = prize.text || DEFAULT_TEXT_COLOR;\r\n    if (highlight) {\r\n      ctx.shadowColor = prize.text || DEFAULT_TEXT_COLOR;\r\n      ctx.shadowBlur = r / 15;\r\n    }\r\n    ctx.font = fontSize + \"px 'Muli', sans-serif\";\r\n    ctx.textAlign = 'right';\r\n    ctx.textBaseline = 'middle';\r\n    ctx.translate(cx, cy);\r\n    ctx.rotate(textAngle);\r\n    ctx.fillText(prize.name, r * 0.91, 0);\r\n    ctx.restore();\r\n  }\r\n}\r\n\r\n// Redraw the wheel frame onto the given canvas.\r\nfunction redrawFrame(canvas) {\r\n  const r = Math.min(canvas.width, canvas.height) / 2.05;\r\n  const cx = canvas.width / 2;\r\n  const cy = canvas.height / 2;\r\n  const ctx = canvas.getContext('2d');\r\n\r\n  // outer ring\r\n  ctx.save();\r\n  ctx.shadowOffsetX = r / 100;\r\n  ctx.shadowOffsetY = r / 100;\r\n  ctx.shadowBlur = r / 40;\r\n  ctx.shadowColor = 'rgba(0,0,0,0.2)';\r\n  ctx.beginPath();\r\n  ctx.arc(cx, cy, r * 1.005, 0, 2 * Math.PI, true);\r\n  ctx.arc(cx, cy, r * 0.985, 0, 2 * Math.PI, false);\r\n  ctx.fillStyle = '#424242';\r\n  ctx.fill();\r\n\r\n  // center ring\r\n  ctx.shadowOffsetX = r / 100;\r\n  ctx.shadowOffsetY = r / 100;\r\n  ctx.fillStyle = '#424242';\r\n  ctx.beginPath();\r\n  ctx.arc(cx, cy, r / 30, 0, 2 * Math.PI, false);\r\n  ctx.fill();\r\n\r\n  // prize pointer\r\n  ctx.translate(cx, cy);\r\n  ctx.rotate(Math.PI / 2);\r\n  ctx.beginPath();\r\n  ctx.moveTo(-r * 1.01, -r * 0.05);\r\n  ctx.lineTo(-r * 0.935, 0);\r\n  ctx.lineTo(-r * 1.01, r * 0.05);\r\n  ctx.fillStyle = '#f44336';\r\n  ctx.fill();\r\n  ctx.restore();\r\n}\r\n\r\nexport default {\r\n  name: 'Wheel',\r\n  data() {\r\n    return {\r\n      angle: 0,\r\n      resizeIntervalId: null\r\n    };\r\n  },\r\n  computed: {\r\n    prizes() {\r\n      return this.$store.state.available;\r\n    },\r\n    removeWinning() {\r\n      return this.$store.state.data.removeWinning || false;\r\n    }\r\n  },\r\n  methods: {\r\n    // Resize and repaint the wheel if the size of the canvas changes.\r\n    resize() {\r\n      const mainCanvas = this.$refs.mainCanvas;\r\n      const subCanvas = this.$refs.subCanvas;\r\n      const pixelRatio = window.devicePixelRatio || 1;\r\n      const desiredWidth = mainCanvas.offsetWidth * pixelRatio;\r\n      const desiredHeight = mainCanvas.offsetHeight * pixelRatio;\r\n      if (mainCanvas.width !== desiredWidth || mainCanvas.height !== desiredHeight) {\r\n        mainCanvas.width = desiredWidth;\r\n        mainCanvas.height = desiredHeight;\r\n        subCanvas.width = desiredWidth;\r\n        subCanvas.height = desiredHeight;\r\n        this.$store.commit('updateWheelSize', Math.min(mainCanvas.width, mainCanvas.height));\r\n        window.requestAnimationFrame(() => {\r\n          redrawWheel(mainCanvas, this.angle, this.prizes);\r\n          redrawFrame(subCanvas);\r\n        });\r\n      }\r\n    },\r\n\r\n    // Determine the winner and notify parent.\r\n    spinCompleted() {\r\n      const winner = calculateResult(this.angle, this.prizes);\r\n      this.$store.commit('addSpinResult', winner);\r\n      this.$emit('result', winner);\r\n    },\r\n\r\n    // Start spinning. Called by parent (WheelPanel).\r\n    startSpin() {\r\n      const mainCanvas = this.$refs.mainCanvas;\r\n      const prizes = this.prizes;\r\n      const self = this;\r\n\r\n      const totalTicks = getRandomInt(450, 530);\r\n      const speed = 0.12 + getRandomInt(0, 80) * 0.001;\r\n      let ticks = 0;\r\n      const start = +new Date();\r\n\r\n      function mainLoop() {\r\n        const now = +new Date();\r\n        const targetTicks = Math.min(totalTicks, (now - start) / 10);\r\n        for (; ticks <= targetTicks; ++ticks) {\r\n          self.angle += (speed * (totalTicks - ticks)) / totalTicks;\r\n        }\r\n\r\n        redrawWheel(mainCanvas, self.angle, prizes);\r\n\r\n        if (ticks < totalTicks) {\r\n          window.requestAnimationFrame(mainLoop);\r\n        } else {\r\n          self.spinCompleted();\r\n        }\r\n      }\r\n\r\n      window.requestAnimationFrame(mainLoop);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.resizeIntervalId = setInterval(this.resize, 10);\r\n  },\r\n  beforeDestroy() {\r\n    clearInterval(this.resizeIntervalId);\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.wheels-container {\r\n  position: relative;\r\n  flex: 1 1 auto;\r\n  height: 100%;\r\n  max-height: 100%;\r\n  max-width: 100%;\r\n  overflow: hidden;\r\n}\r\n.wheels {\r\n  margin: 0;\r\n  padding: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n  max-height: 100%;\r\n  max-width: 100%;\r\n  overflow: hidden;\r\n}\r\n.wheel-container {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n}\r\n.wheel-main,\r\n.wheel-sub {\r\n  margin: 0;\r\n  padding: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n  max-height: 100%;\r\n  max-width: 100%;\r\n  overflow: hidden;\r\n}\r\n.wheel-sub {\r\n  z-index: 2;\r\n}\r\n</style>\r\n"]}]}